---
import MarkdownIt from 'markdown-it';
import {dateFormatter,imgix_post_image} from 'src/shared/utilities.js';
const { slug, collection, data: { excerpt, headline, read_time, published, post_image } } = Astro.props;
const md = new MarkdownIt({ html: true });
const article_url = `/${collection}/${slug}/`;
let srcset, sizes;
if (post_image?.path) {
  srcset = `${imgix_post_image(post_image?.path, 300)} 300w,${imgix_post_image(post_image?.path, 500)} 500w,${imgix_post_image(post_image?.path, 787)} 787w,${imgix_post_image(post_image?.path, 1000)} 1000w,${imgix_post_image(post_image?.path, 1574)} 1574w`;
  sizes = '(max-width: 579px) calc(100vw - 3rem),(max-width: 1654px) calc(50vw - 2.25rem), 787px';
}
---
<style lang="scss" is:global>
  [data-posts-article] {

  }
</style>
<article data-posts-article>
  { post_image.path && (
    <img src={imgix_post_image(post_image.path, 787)} width="400" height="200"
      srcset={srcset}
      sizes={sizes}
      alt={post_image.alt}
      title={post_image.title}
    />
  )}
  <slot />
</article>
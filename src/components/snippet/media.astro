---
import MediaCaption from "src/components/global/media-caption.astro";
const { caption, src, jumbo = false} = Astro.props;
---
<style lang="scss" is:global>
  [data-snippet-media] {
    margin: 0;

    > div {
      aspect-ratio: 16/9;
      background-color: rgba($color_black_1, .5);
    }

    &.jumbo {
      grid-column: jumbo;

      @include media-tablet {
        transform: translateX(-2rem);
      }
    }

    iframe {
      width: 100%;
      height: 100%;
    }

    figcaption {
      > div {
        padding: .3em 1em;
        background-color: rgba($color_black_1, .5);
        color: $color_white;
        border-radius: 0 0 $radius_sm $radius_sm;
      }
    }
  }
</style>
<figure data-snippet-media class:list={[{jumbo}]}>
  <div>
    <iframe
      src={src}
      title={caption}
      width="16"
      height="9"
      loading="lazy"
      frameborder="0"
      allow="autoplay; fullscreen; picture-in-picture"
      allowfullscreen
    />
  </div>
  { !!caption && (
  <figcaption>
    <MediaCaption caption={caption} icon="video" />
  </figcaption>
  )}
</figure>